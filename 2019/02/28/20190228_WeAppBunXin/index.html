<!DOCTYPE html>












  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=6.7.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.7.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.7.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="前言影分身术，看过火影的都知道，一个本体，多个分身。 大家肯定要问了，那小程序开发跟影分身术也能扯上关系？没错，那自然就是：一套代码，多个小程序啦。 各位先别翻白眼，且听我细细说来。。。">
<meta property="og:type" content="article">
<meta property="og:title" content="小程序开发之影分身术">
<meta property="og:url" content="http://bakerjq.github.io/2019/02/28/20190228_WeAppBunXin/index.html">
<meta property="og:site_name" content="BakerJ">
<meta property="og:description" content="前言影分身术，看过火影的都知道，一个本体，多个分身。 大家肯定要问了，那小程序开发跟影分身术也能扯上关系？没错，那自然就是：一套代码，多个小程序啦。 各位先别翻白眼，且听我细细说来。。。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://bakerjq.github.io/images/20190228_WeAppBunXin.jpg">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/config.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/bluedev.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/reddev.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/channeldir.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/theme.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/configdiff.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/channeldiff.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/bluemanage.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/redmanage.jpg?raw=true">
<meta property="og:image" content="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/channelpage.jpg?raw=true">
<meta property="og:updated_time" content="2019-02-28T09:30:59.264Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小程序开发之影分身术">
<meta name="twitter:description" content="前言影分身术，看过火影的都知道，一个本体，多个分身。 大家肯定要问了，那小程序开发跟影分身术也能扯上关系？没错，那自然就是：一套代码，多个小程序啦。 各位先别翻白眼，且听我细细说来。。。">
<meta name="twitter:image" content="http://bakerjq.github.io/images/20190228_WeAppBunXin.jpg">






  <link rel="canonical" href="http://bakerjq.github.io/2019/02/28/20190228_WeAppBunXin/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>小程序开发之影分身术 | BakerJ</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BakerJ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://bakerjq.github.io/2019/02/28/20190228_WeAppBunXin/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BakerJ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BakerJ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">小程序开发之影分身术

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            

            
          </span>

          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <div align="center"><br><br><img src="../../../../../images/20190228_WeAppBunXin.jpg" alt=""><br><br></div>

<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>影分身术，看过火影的都知道，一个本体，多个分身。</p>
<p>大家肯定要问了，那小程序开发跟影分身术也能扯上关系？没错，那自然就是：一套代码，多个小程序啦。</p>
<p>各位先别翻白眼，且听我细细说来。。。</p>
<a id="more"></a>
<p>如今小程序发展如日中天，再加上微信的力推，很多公司的业务也都慢慢的转向小程序，这让我这个安卓开发，也不得不开始了小程序开发之旅。</p>
<p>然而随着公司的发展，客户越来越多，核心功能相同的小程序，需要上架多个小程序分别给不同的客户使用，每个小程序之间又存在这一小部分的定制化，比如界面展示的不同、小功能的差异等等。</p>
<p>这可让我这个刚接触小程序开发的前端菜鸟抓狂了，每个小程序复制一份代码出来，然后做定制化的修改？这岂不是如果哪天核心业务有改动，我得对每套代码分别改动一次？不行，即使是菜鸟，对这种弄出多套重复代码的行为也是无法容忍的！！</p>
<p>于是，就有了针对这种场景下的一个解决方案：给小程序开发来个影分身术。</p>
<p>Github地址：<a href="https://github.com/BakerJQ/WeAppBunXin" target="_blank" rel="noopener">https://github.com/BakerJQ/WeAppBunXin</a></p>
<p>该项目基于<a href="https://taro.aotu.io" target="_blank" rel="noopener">Taro</a>框架，由<a href="https://aotu.io" target="_blank" rel="noopener">凹凸实验室</a>开源，非常感谢他们的努力付出。</p>
<p>之所以选用Taro，主要是因为它采用React语法标准，而本人之前有过ReactNative开发经验。</p>
<p>由于本人接触前端开发时间不长，文中若出现了错误或者有更好的方案，欢迎各位包容和指正，万分感谢。</p>
<h2 id="影分身之基础配置"><a href="#影分身之基础配置" class="headerlink" title="影分身之基础配置"></a>影分身之基础配置</h2><p>影分身的能力，主要来源于Taro所提供的编译能力，所以需要对Taro的<a href="https://nervjs.github.io/taro/docs/config.html" target="_blank" rel="noopener">编译配置</a>和<a href="https://nervjs.github.io/taro/docs/config-detail.html" target="_blank" rel="noopener">编译配置详情</a>有所了解。</p>
<p>我们先来看看配置的相关文件目录：</p>
<p><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/config.jpg?raw=true" alt=""></p>
<p>config目录为Taro初始化后的默认配置目录，图中蓝色框框内的三个文件（dev、index、prod）为默认生成的配置文件，剩下的文件，则为分身所需的配置。图中配置了三个分身，我们以channel1为例，config是该分身的一些配置，project.config.json就是该分身小程序的基本配置，如：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"miniprogramRoot"</span>: <span class="string">"./"</span>,</span><br><span class="line">    <span class="attr">"projectname"</span>: <span class="string">"channel1"</span>,</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"channel1"</span>,</span><br><span class="line">    <span class="attr">"appid"</span>: <span class="string">"wx8888888888888"</span>,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>channel.js文件，则是用来指定，当前需要编译哪个小程序，如：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  channel: <span class="string">'channel1'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在默认的编译配置入口文件index.js中，我们需要配置小程序的输出目录，配置如下：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> channelInfo = <span class="built_in">require</span>(<span class="string">'./channel'</span>)</span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">//输入目录为dist_channel1</span></span><br><span class="line">    outputRoot: <span class="string">'dist_'</span> + channelInfo.channel,</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">//讲config/channel1/project.config.json文件拷贝到dist_channel1下</span></span><br><span class="line">    copy: &#123;</span><br><span class="line">    patterns: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">from</span>: <span class="string">'config/'</span> + channelInfo.channel + <span class="string">'/project.config.json'</span>,</span><br><span class="line">        to: <span class="string">'dist_'</span> + channelInfo.channel + <span class="string">'/project.config.json'</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>执行Taro的<a href="https://nervjs.github.io/taro/docs/GETTING-STARTED.html#微信小程序" target="_blank" rel="noopener">小程序编译命令</a>后，将会生成该分身对应的小程序代码文件夹dist_channel1，直接使用小程序开发者工具打开该目录，就可以进行channel1小程序的预览了。</p>
<p>通过这些配置，我们就可以通过同一套代码，生成多个不同的小程序啦！当然，这些小程序的内容是完全一样的，顶多就是project.config.json中配置的名字、appid有不同而已。</p>
<p>那么下面，我们就开始看看如何实现生成多个有差异化的小程序。</p>
<p>在具体实现之前，我们需要知道Taro两个重要的配置：<a href="https://nervjs.github.io/taro/docs/config-detail.html#defineconstants" target="_blank" rel="noopener">全局变量”defineConstants”</a>和<a href="https://nervjs.github.io/taro/docs/config-detail.html#alias" target="_blank" rel="noopener">别名”alias”</a>。</p>
<h2 id="影分身之样式分身"><a href="#影分身之样式分身" class="headerlink" title="影分身之样式分身"></a>影分身之样式分身</h2><p>首先，我们来看看最常见的一种需求，那就是不同小程序之间，样式上的差别。我们先来看两张图。</p>
<table>
<thead>
<tr>
<th style="text-align:center">小程序A</th>
<th style="text-align:center">小程序B</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/bluedev.jpg?raw=true" alt=""></td>
<td style="text-align:center"><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/reddev.jpg?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<p>在样式上，这两个小程序目前的区别有：</p>
<ul>
<li>主色调不同</li>
<li>对应图片资源不同</li>
<li>排列样式不同</li>
</ul>
<h3 id="建立分身目录"><a href="#建立分身目录" class="headerlink" title="建立分身目录"></a>建立分身目录</h3><p>第一步，在src下为每个分身小程序建立一个目录，名字最好与channel.js中的配置一样，如下图：</p>
<p><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/channeldir.jpg?raw=true" alt=""></p>
<h3 id="放置样式差异"><a href="#放置样式差异" class="headerlink" title="放置样式差异"></a>放置样式差异</h3><p>以之前的“小程序A”来举例：</p>
<p>其中assets文件夹就是该小程序的资源文件，即各种蓝色的图标。</p>
<p>app.less为全局的样式文件，内容如下：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@main_color:</span> <span class="number">#1296db</span>;</span><br><span class="line"><span class="selector-class">.main_color_txt</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="variable">@main_color</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ChannelStyle.ts文件则为可能在代码中需要用到的样式：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ChannelStyle = &#123;</span><br><span class="line">  mainColor: <span class="string">'#1296db'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> ChannelStyle</span><br></pre></td></tr></table></figure>
<h3 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h3><p>在放置好各类样式差异后，就可以进行全局变量和别名的配置了，在项目的config下的index.js中做如下配置</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  ...</span><br><span class="line">  alias: &#123;</span><br><span class="line">    <span class="string">'@/channel'</span>: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'src/channel/'</span> + channelInfo.channel),</span><br><span class="line">    <span class="string">'@/assets'</span>: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'src/channel/'</span> + channelInfo.channel + <span class="string">'/assets'</span>),</span><br><span class="line">    <span class="string">'@/app_style'</span>: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'src/channel/'</span> + channelInfo.channel + <span class="string">'/app.less'</span>),</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这样，在代码中就可以通过别名进行引用了</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//代码中需要用到ChannelStyle中的样式</span></span><br><span class="line"><span class="keyword">import</span> ChannelStyle <span class="keyword">from</span> <span class="string">'@/channel/ChannelStyle'</span></span><br><span class="line"><span class="comment">//app.tsx入口文件引用全局样式</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'@/app_style'</span></span><br><span class="line"><span class="comment">//引用资源图片</span></span><br><span class="line">&lt;Image src=&#123;<span class="built_in">require</span>(<span class="string">'@/assets/icon.png'</span>)&#125; /&gt;</span><br></pre></td></tr></table></figure>
<p>另外请注意，由于目前Taro还未在.less等样式文件中支持别名，所以无法通过类似@import ‘@/app_style’的方式进行引用，所以目前需要在每个分身包下放置全量的差异样式</p>
<h3 id="配置全局变量"><a href="#配置全局变量" class="headerlink" title="配置全局变量"></a>配置全局变量</h3><p>由于对于TabBar的配置，是纯字符串的形式，无法通过别名配置，所以需要使用另一种配置方式，也就是全局变量，在index.js的配置方式如下：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  defineConstants: &#123;</span><br><span class="line">    ASSETS_PATH: <span class="string">'channel/'</span>+channelInfo.channel+<span class="string">'/assets'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但是主色调每个分身都不一样，所以需要在分身的配置文件中配置，就是基础配置中，分身文件夹下的config.js，在其中加入全局变量的配置：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  defineConstants: &#123;</span><br><span class="line">    MAIN_COLOR: <span class="string">'#1296db'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>全局变量在代码中可以直接使用，如app.tsx中TabBar的配置：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">config: Config = &#123;</span><br><span class="line">    ...</span><br><span class="line">    tabBar: &#123;</span><br><span class="line">      ...</span><br><span class="line">      selectedColor: MAIN_COLOR,</span><br><span class="line">      list: [</span><br><span class="line">        &#123;</span><br><span class="line">          pagePath: <span class="string">'pages/index/index'</span>,</span><br><span class="line">          text: <span class="string">'首页'</span>,</span><br><span class="line">          iconPath: ASSETS_PATH + <span class="string">'/home_u.png'</span>,</span><br><span class="line">          selectedIconPath: ASSETS_PATH + <span class="string">'/home_s.png'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        ...</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="配置合并"><a href="#配置合并" class="headerlink" title="配置合并"></a>配置合并</h3><p>在配置完成之后，在index.js文件最后的合并代码中，加上我们定义的分身配置：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">merge</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">//默认的原始代码为return merge(&#123;&#125;, config, envConfig)</span></span><br><span class="line">  <span class="keyword">return</span> merge(&#123;&#125;, config, envConfig, <span class="built_in">require</span>(<span class="string">'./'</span> + channelInfo.channel + <span class="string">"/config"</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="样式分身小结"><a href="#样式分身小结" class="headerlink" title="样式分身小结"></a>样式分身小结</h3><p>如此，根据“小程序B”的资源文件和主题色配置之后，通过修改channel.js中的编译分身名，就可以生成这两个小程序了。</p>
<p>我们可能还发现，“小程序A”和“小程序B”的样式差异，除了资源图片和主题色之外，“开发”页面的布局方式也有差异，这该怎么处理呢？没错，还是通过别名指定less文件的方式，为各页面指定对应的样式文件。</p>
<p>如果说在实际业务中，不同的小程序存在明显的主题样式风格差异的话，建议可以建立主题包，然后为不同的小程序分身配置不同的主题包，如：</p>
<p><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/theme.jpg?raw=true" alt=""></p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分身配置</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ...</span><br><span class="line">  alias: &#123;</span><br><span class="line">    <span class="string">'@/theme'</span>: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'../src/theme/theme1'</span>),</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//文件引用</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'@/theme/dev.less'</span></span><br></pre></td></tr></table></figure>
<h2 id="影分身之功能分身"><a href="#影分身之功能分身" class="headerlink" title="影分身之功能分身"></a>影分身之功能分身</h2><p>除了样式差异之外，有定制化属性的小程序一定也会存在一定的功能性差异。</p>
<p>细心的小伙伴可能发现了，“小程序A”和“小程序B”开发页面的条目数是不一样的。</p>
<p>“小程序A”并没有FireWall这一项，而且，这两个小程序的前两个条目Java和JSX的顺序是不一样的。不仅如此，如果运行小程序，点击各项的话你会发现，点击C++这一项，“小程序B”是跳转到条目详情页面，而“小程序A”则是跳转到“管理”Tab页。</p>
<p>类似这种功能性的差异，我们该如何处理呢？</p>
<h3 id="定义页面配置"><a href="#定义页面配置" class="headerlink" title="定义页面配置"></a>定义页面配置</h3><p>我所想到的思路是，给具有差异化的页面，提供差异化的配置项，然后通过合并的方式，合并具有差异的分身配置。</p>
<p>我们先来看定义完成后的配置目录，该目录在src下：</p>
<p><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/configdiff.jpg?raw=true" alt=""></p>
<p>以“开发“页面为例，在DevConfig.ts中，我定义了如下的配置：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Taro <span class="keyword">from</span> <span class="string">"@tarojs/taro"</span>;</span><br><span class="line"><span class="comment">//页面配置</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  dev: &#123;</span><br><span class="line">    items: &#123;<span class="comment">//条目</span></span><br><span class="line">      item1: &#123;<span class="comment">//条目1</span></span><br><span class="line">        img: <span class="built_in">require</span>(<span class="string">'@/assets/jsx.png'</span>),<span class="comment">//图片</span></span><br><span class="line">        txt: <span class="string">'JSX'</span>,<span class="comment">//文字</span></span><br><span class="line">        onItemClick: <span class="function"><span class="params">()</span> =&gt;</span> &#123;<span class="comment">//点击跳转事件</span></span><br><span class="line">          toPage(<span class="string">'JSX'</span>, <span class="built_in">require</span>(<span class="string">'@/assets/jsx.png'</span>))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      item2: &#123;...&#125;,</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//页面跳转</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toPage</span>(<span class="params">title, img</span>)</span>&#123;</span><br><span class="line">  Taro.navigateTo(&#123;url: <span class="string">'/pages/dev/DevInfo?title='</span>+title+<span class="string">'&amp;img='</span>+img&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="定义差异合并"><a href="#定义差异合并" class="headerlink" title="定义差异合并"></a>定义差异合并</h3><p>同时，diff包下的ChannelConfigDiff.ts文件，作为差异配置文件，其内容如下：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (config, merge)=&gt;&#123;</span><br><span class="line">  <span class="keyword">return</span> merge([&#123;&#125;, config])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可以看出，这其实就是把传入的config原封不动的返回了，因为对于项目主体来说，config是不需要改变的，具体的用途，会在下面说明。</p>
<p>而MultiChannelConfig.ts则为最终的各页面配置，内容如下：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> merge <span class="keyword">from</span> <span class="string">'deepmerge'</span></span><br><span class="line"><span class="keyword">import</span> ChannelConfigDiff <span class="keyword">from</span> <span class="string">'@/diff/ChannelConfigDiff'</span></span><br><span class="line"><span class="comment">//开发页面配置</span></span><br><span class="line"><span class="keyword">import</span> DevConfig <span class="keyword">from</span> <span class="string">'./pages/DevConfig'</span></span><br><span class="line"><span class="comment">//合并基本页面配置</span></span><br><span class="line"><span class="keyword">const</span> baseConfig = <span class="built_in">Object</span>.assign(&#123;&#125;, DevConfig)</span><br><span class="line"><span class="comment">//合并差异页面配置</span></span><br><span class="line"><span class="keyword">const</span> config = ChannelConfigDiff(baseConfig, merge.all)</span><br><span class="line"><span class="comment">//开发页面最终配置</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> devConfig = config.dev</span><br></pre></td></tr></table></figure>
<h3 id="定义差异配置"><a href="#定义差异配置" class="headerlink" title="定义差异配置"></a>定义差异配置</h3><p>在上面的定义中，我们发现ChannelConfigDiff是根据别名引用的，现在大家应该明白ChannelConfigDiff.ts文件的作用了吧？没错，就是通过在各分身中加入这个文件，并编写配置。</p>
<p>以“小程序A”为例，diff目录如下：</p>
<p><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/channeldiff.jpg?raw=true" alt=""></p>
<p>在channel2的ChannelConfigDiff.ts中，只需要配置具体的差异项即可，未配置的则采用默认的配置:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dev = &#123;</span><br><span class="line">  dev: &#123;</span><br><span class="line">    items: &#123;</span><br><span class="line">      item1: &#123;<span class="comment">//定义第一个item为java内容</span></span><br><span class="line">        img: <span class="built_in">require</span>(<span class="string">'@/assets/java.png'</span>),</span><br><span class="line">        txt: <span class="string">'Java'</span>,</span><br><span class="line">        onItemClick: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          toPage(<span class="string">'Java'</span>, <span class="built_in">require</span>(<span class="string">'@/assets/java.png'</span>))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      item2: &#123;...&#125;,<span class="comment">//第二个item为jsx内容</span></span><br><span class="line">      item5: <span class="literal">null</span>,<span class="comment">//第五个item（FireWall）为空</span></span><br><span class="line">      item8: &#123;</span><br><span class="line">        onItemClick: <span class="function"><span class="params">()</span> =&gt;</span> &#123;<span class="comment">//最后一个item（C++）点击后跳转TAB</span></span><br><span class="line">          Taro.switchTab(&#123;url: <span class="string">'/pages/index/Manage'</span>&#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//将dev配置合并到原始整体配置</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (config, merge) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> merge([&#123;&#125;, config, dev])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以看到，该配置中，将item1（原jsx）和item2（原java）的内容对调，将item5（原FireWall）置空，将item8（原C++）点击事件改变。通过这些配置，以达到实现“小程序A”中的功能差异。</p>
<p>最后，别忘了别名的定义，在index.js中，别名配置为：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'@/diff'</span>: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'src/config/diff'</span>),</span><br></pre></td></tr></table></figure>
<p>在channel2的config.js中，别名配置为：</p>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'@/diff'</span>: path.resolve(__dirname, <span class="string">'..'</span>, <span class="string">'../src/channel/channel2/diff'</span>),</span><br></pre></td></tr></table></figure>
<h3 id="功能分身小结"><a href="#功能分身小结" class="headerlink" title="功能分身小结"></a>功能分身小结</h3><p>如果有了其他的页面差异的话，通过类似的增加配置，来进行差异化处理，文件的目录格式并无要求，只需要保证配置文件名一致、别名配置正确就可以了。</p>
<p>这时，编译过后，生成的“小程序A”就拥有样式和功能差异化的“开发”页面了。</p>
<p>通过这种方式进行差异化配置，就要求对业务有较好的理解和对组件的合理拆分，并且定义出合理的配置项。</p>
<h2 id="影分身之大差异分身"><a href="#影分身之大差异分身" class="headerlink" title="影分身之大差异分身"></a>影分身之大差异分身</h2><p>即便使用了样式分身和功能分身，依然可能出现一些巨大差异的定制化需求，这些巨大的差异导致样式分身和功能分身的配置成本过大，那这种情况下，该如何是好呢？</p>
<p>如果真的出现这种情况，那也只好断臂求生了 —— 那就是整体页面的替换。</p>
<p>我们来看看“小程序A”和“小程序B”的“管理页面”：</p>
<table>
<thead>
<tr>
<th style="text-align:center">小程序A</th>
<th style="text-align:center">小程序B</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/bluemanage.jpg?raw=true" alt=""></td>
<td style="text-align:center"><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/redmanage.jpg?raw=true" alt=""></td>
</tr>
</tbody>
</table>
<h3 id="编写新页面"><a href="#编写新页面" class="headerlink" title="编写新页面"></a>编写新页面</h3><p>我们假设“小程序B”的“管理”页很难通过配置的方式去做差异化，那么这时，我们只有专门写一个新页面，目录如下：</p>
<p><img src="https://github.com/BakerJQ/WeAppBunXin/blob/master/screen/channelpage.jpg?raw=true" alt=""></p>
<p>其中pages下的就是专属于channel3的页面</p>
<h3 id="页面替换"><a href="#页面替换" class="headerlink" title="页面替换"></a>页面替换</h3><p>替换页面的方式，其实也是通过全局变量。</p>
<p>index.js:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">defineConstants: &#123;</span><br><span class="line">  PAGE_MANAGE: <span class="string">'pages/index/Manage'</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>channel3的config.js:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">defineConstants: &#123;</span><br><span class="line">  PAGE_MANAGE: <span class="string">'channel/channel3/pages/index/Manage'</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>app.tsx的页面配置:<br><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">config: Config = &#123;</span><br><span class="line">  pages: [</span><br><span class="line">    ...</span><br><span class="line">    PAGE_MANAGE</span><br><span class="line">  ],</span><br><span class="line">  ...</span><br><span class="line">  tabBar: &#123;</span><br><span class="line">    ...</span><br><span class="line">    list: [</span><br><span class="line">      ...</span><br><span class="line">      &#123;</span><br><span class="line">        pagePath: PAGE_MANAGE,</span><br><span class="line">        ...</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>如此，编译后，channel3生成“小程序B”的“管理”页面，就是channel3独有的页面了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文所提供的，只是我能够想到的一种解决“多个核心功能类似的小程序需要维护多套代码”这种窘境的方法，如果有更好的方法，希望各位能够告诉我，非常感谢。</p>
<p>由于本人只是一个刚接触前端不久的安卓开发，还有许多需要学习的地方，如果文中有误，欢迎指正批评。</p>
<p>具体的代码可以到Github查阅，也欢迎各位Star和提Issue。</p>
<p>最后，再次贴一下Github地址：<a href="https://github.com/BakerJQ/WeAppBunXin" target="_blank" rel="noopener">https://github.com/BakerJQ/WeAppBunXin</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/19/20190119_RxRetroHttp/" rel="next" title="RxRetroHttp，为多套API请求适配而生">
                <i class="fa fa-chevron-left"></i> RxRetroHttp，为多套API请求适配而生
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/02/20190402_InfiniteCard/" rel="prev" title="Flutter自定义实现神奇的卡片切换视图">
                Flutter自定义实现神奇的卡片切换视图 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">BakerJ</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              

              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#影分身之基础配置"><span class="nav-number">2.</span> <span class="nav-text">影分身之基础配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#影分身之样式分身"><span class="nav-number">3.</span> <span class="nav-text">影分身之样式分身</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立分身目录"><span class="nav-number">3.1.</span> <span class="nav-text">建立分身目录</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#放置样式差异"><span class="nav-number">3.2.</span> <span class="nav-text">放置样式差异</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置别名"><span class="nav-number">3.3.</span> <span class="nav-text">配置别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置全局变量"><span class="nav-number">3.4.</span> <span class="nav-text">配置全局变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置合并"><span class="nav-number">3.5.</span> <span class="nav-text">配置合并</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#样式分身小结"><span class="nav-number">3.6.</span> <span class="nav-text">样式分身小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#影分身之功能分身"><span class="nav-number">4.</span> <span class="nav-text">影分身之功能分身</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#定义页面配置"><span class="nav-number">4.1.</span> <span class="nav-text">定义页面配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定义差异合并"><span class="nav-number">4.2.</span> <span class="nav-text">定义差异合并</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#定义差异配置"><span class="nav-number">4.3.</span> <span class="nav-text">定义差异配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#功能分身小结"><span class="nav-number">4.4.</span> <span class="nav-text">功能分身小结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#影分身之大差异分身"><span class="nav-number">5.</span> <span class="nav-text">影分身之大差异分身</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#编写新页面"><span class="nav-number">5.1.</span> <span class="nav-text">编写新页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#页面替换"><span class="nav-number">5.2.</span> <span class="nav-text">页面替换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">6.</span> <span class="nav-text">总结</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BakerJ</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v6.7.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=6.7.0"></script>




  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  


  


  





  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
